{% extends 'index.html' %}
{% block content %}
            <div class="row J_mainContent" id="content-main">
                <iframe id="J_iframe" width="100%" height="100%"  frameborder="0"  seamless> </iframe>
	               <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/echarts/dist/echarts.min.js"></script>
			       <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/echarts-gl/dist/echarts-gl.min.js"></script>
			       <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/echarts-stat/dist/ecStat.min.js"></script>
			       <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/echarts/dist/extension/dataTool.min.js"></script>
			       <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/echarts/map/js/china.js"></script>
			       <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/echarts/map/js/world.js"></script>
			       <script type="text/javascript" src="https://api.map.baidu.com/api?v=2.0&ak=xfhhaTThl11qYVrqLZii6w8qE5ggnhrY&__ec_v__=20190126"></script>
			       <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/echarts/dist/extension/bmap.min.js"></script>
			       <script type="text/javascript">
					var dom = document.getElementById("content-main");
					var myChart = echarts.init(dom);
					var app = {};
					
					option = null;
					
					setTimeout(function () {
					
					    option = {
					        legend: {},
					        tooltip: {
					            trigger: 'axis',
					            showContent: false
					        },
					        dataset:{ source:[['日期', '宜昌', '江汉', '襄阳', '荆门'], ['2020-01-10', 6324, 22496, 16447, 4273], ['2020-01-11', 27256, 5849, 25546, 16842], ['2020-01-13', 33783, 10811, 9284, 22717], ['2020-01-14', 20234, 12244, 14205, 37450]] } ,
					        xAxis: {type: 'category'},
					        yAxis: {gridIndex: 0},
					        grid: {top: '55%'},
					        series: [
                                {type: 'line', smooth: true, seriesLayoutBy: 'column'},
					            {type: 'line', smooth: true, seriesLayoutBy: 'column'},
                                {type: 'line', smooth: true, seriesLayoutBy: 'column'},
                                {type: 'line', smooth: true, seriesLayoutBy: 'column'},
					            
					            {
					                type: 'pie',
                                    seriesLayoutBy: 'row',
					                id: 'pie',
					                radius: '30%',
					                center: ['50%', '25%'],
					                 label: {
		                            formatter: '{b}: {@2020-01-10} ({d}%)'
		                        },
		                        encode: {
		                            itemName: '日期',
		                            value: '2020-01-10',
		                            tooltip: '2020-01-10'
		                        }
					            }
					        ]
					    };
					
					    myChart.on('updateAxisPointer', function (event) {
					        var xAxisInfo = event.axesInfo[0];
					        if (xAxisInfo) {
					            var dimension = xAxisInfo.value + 1;
					            myChart.setOption({
					                series: {
					                    id: 'pie',
					                    label: {
					                        formatter: '{b}: {@[' + dimension + ']} ({d}%)'
					                    },
					                    encode: {
					                        value: dimension,
					                        tooltip: dimension
					                    }
					                }
					            });
					        }
					    });
					
					    myChart.setOption(option);
					
					});;
					if (option && typeof option === "object") {
					    myChart.setOption(option, true);
					}
					</script>
{% endblock %}               
      

